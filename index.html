<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>jQuery Promise Test</title>
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Sans"/>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
<style>
  body { font-family: 'PT Sans', arial, sans-serif !important; }
</style>
</head>
<body>
  <div class="container">
    <div class="page-header">
      <h1>See console log</h1>
    </div>
  </div>
</body>
<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript">
  $(function () {
    var r1 = $.get('/hoge.txt');
    var r2 = $.get('/hoge.txt');  // require popup
    var r3 = $.get('/hoge.txt');  // require popup
    $.when(r1, r2, r3).then(function (d1, d2, d3) {
      //var x2 = window.showModalDialog('/popup-2.html');
      //console.info(x2);

      //var x3 = showModal('/popup-3.html');

      if (d1 && d2 && d3) {
        console.info([d1, d2, d3]);
        // hidden.set
        // form.post
      } else {
        console.info('error');
        // redirect to error
      }
    });
  });
</script>
</html>
